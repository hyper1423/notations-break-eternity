!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("break_eternity.js"),require("tslib")):"function"==typeof define&&define.amd?define(["exports","break_eternity.js","tslib"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ADNotations={},t.Decimal,t.tslib)}(this,(function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(e),i={isInfinite:function(t){return t.gte(o.default.dNumberMax)},exponentCommas:{show:!0,min:1e5,max:1e9},exponentDefaultPlaces:3};function a(t){return Array.from(Array(Math.ceil(t.length/3))).map((function(e,n){return function(t,e){return 0===e?t.slice(-3):t.slice(-3*(e+1),-3*e)}(t,n)})).reverse().join(",")}function u(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\w+$/g,a),e.join(".")}var f=["K","M","B","T","Qa","Qt","Sx","Sp","Oc","No"];function c(t){var e=t.minus(1);return e.eq(-1)?"":e.lt(f.length)?f[e.toNumber()]:"Error"}function l(t){return t.lt(i.exponentCommas.min)}function m(t){return i.exponentCommas.show&&t.lt(i.exponentCommas.max)}function p(t,e,n,r,i,a,u){return void 0===a&&(a="e"),void 0===u&&(u=!1),function(f,c,p){if(o.default.isNaN(f))throw new Error("NaN detected in formatting");var s=Math.pow(n,r),d=o.default.floor(f.log(s)).times(r);u&&(d=o.default.max(d,0));var h=f.div(o.default.pow(n,d)).toNumber();if(!(1<=h&&h<s)){var g=Math.floor(Math.log(h)/Math.log(s));h/=Math.pow(s,g),d=d.add(r*g)}var y=t(h,c);if(y===t(s,c)&&(y=t(1,c),d=d.add(r)),d.eq(0))return y;var b=e(d,p);return void 0===i||function(t){return l(t)||m(t)}(d)||(y=i(h,c)),"".concat(y).concat(a).concat(b)}}function s(t,e){return t.toFixed(Math.max(0,e))}var d=function(){function t(){}return t.prototype.format=function(t,e,n,r){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=e),o.default.isNaN(t))throw new Error("NaN detected in formatting");if("number"==typeof t&&!Number.isFinite(t))return this.infinite;var a=o.default.fromValue_noAlloc(t);if(a.exponent<-300)return a.sign<0?this.formatVerySmallNegativeDecimal(a.abs(),n):this.formatVerySmallDecimal(a,n);if(a.exponent<3){var u=a.toNumber();return u<0?this.formatNegativeUnder1000(Math.abs(u),n):this.formatUnder1000(u,n)}return i.isInfinite(a.abs())?a.sign<0?this.negativeInfinite:this.infinite:a.sign<0?this.formatNegativeDecimal(a.abs(),e,r):this.formatDecimal(a,e,r)},Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"-".concat(this.infinite)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Infinite"},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(t,e){return"-".concat(this.formatVerySmallDecimal(t,e))},t.prototype.formatVerySmallDecimal=function(t,e){return this.formatUnder1000(t.toNumber(),e)},t.prototype.formatNegativeUnder1000=function(t,e){return"-".concat(this.formatUnder1000(t,e))},t.prototype.formatUnder1000=function(t,e){return t.toFixed(e)},t.prototype.formatNegativeDecimal=function(t,e,n){return"-".concat(this.formatDecimal(t,e,n))},t.prototype.formatExponent=function(t,e,n,r){return void 0===e&&(e=i.exponentDefaultPlaces),void 0===n&&(n=function(t,e){return t.toString()}),void 0===r&&(r=Math.max(2,e)),function(t){return t<i.exponentCommas.min}(t)?n(t,Math.max(e,1)):function(t){return i.exponentCommas.show&&t<i.exponentCommas.max}(t)?u(n(t,0)):this.formatDecimal(new o.default(t),r,r)},t.prototype._BE_formatExponent=function(t,e,n,r){if(void 0===e&&(e=i.exponentDefaultPlaces),void 0===n&&(n=function(t,e){return t.toString()}),void 0===r&&(r=Math.max(2,e)),o.default.isNaN(t))throw new Error("NaN detected in formatting");return l(t)?n(t,Math.max(e,1)):m(t)?u(n(t,0)):this.formatDecimal(new o.default(t),r,r)},t}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return p(s,this._BE_formatExponent.bind(this),10,1,(function(t,e){return s(t,0)}))(t,e,n)},e}(d),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return p(s,this._BE_formatExponent.bind(this),10,3,(function(t,e){return s(t,0)}))(t,e,n)},e}(d),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Standard",e}return n.__extends(e,t),e.prototype.formatDecimal=function(t,e,n){return p(s,c,1e3,1,void 0," ",!0)(t,e,n)},e}(d),b=new y,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return t.log10().lt(33)?b.formatDecimal(t,e,n):p(s,this._BE_formatExponent.bind(this),10,1,(function(t,e){return s(t,0)}))(t,e,n)},e}(d),v=new y,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){return t.log10().lt(33)?v.formatDecimal(t,e,n):p(s,this._BE_formatExponent.bind(this),10,3,(function(t,e){return s(t,0)}))(t,e,n)},e}(d),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Logarithm"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){var r=t.log10();return"e".concat(this._BE_formatExponent(r,e,(function(t,e){return t.toFixed(e)}),n))},e}(d),D=new h,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed Logarithm (Sci)"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e,n){if(t.log10().lt(33))return D.formatDecimal(t,e,n);var r=t.log10();return"e".concat(this._BE_formatExponent(r,e,(function(t,e){return t.toFixed(e)}),n))},e}(d),E=Math.log10(Number.MAX_VALUE),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Infinity"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(t,e){var n=t.log10().div(E),r=n.lt(1e3)?4:3,o=n.toFixed(Math.max(r,e));return i.exponentCommas.show?"".concat(u(o),"∞"):"".concat(o,"∞")},e}(d),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"Blind"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return" "},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return" "},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(){return" "},e.prototype.formatVerySmallDecimal=function(){return" "},e.prototype.formatNegativeUnder1000=function(){return" "},e.prototype.formatUnder1000=function(){return" "},e.prototype.formatNegativeDecimal=function(){return" "},e.prototype.formatDecimal=function(){return" "},e}(d);t.BlindNotation=j,t.EngineeringNotation=g,t.InfinityNotation=S,t.LogarithmNotation=N,t.MixedEngineeringNotation=_,t.MixedLogarithmSciNotation=M,t.MixedScientificNotation=x,t.Notation=d,t.ScientificNotation=h,t.Settings=i,t.StandardNotation=y,t._BE_abbreviateStandard=c,t._BE_formatMantissaWithExponent=p,t.formatMantissa=function(t,e){return function(n,r){for(var o=Math.round(n*Math.pow(t,Math.max(0,r))),i=[];o>0||0===i.length;)i.push(e[o%t]),o=Math.floor(o/t);var a=i.reverse().join("");return r>0&&(a=a.padStart(r+1,"0"),a="".concat(a.slice(0,-r),".").concat(a.slice(-r))),a}},t.formatMantissaBaseTen=s,Object.defineProperty(t,"__esModule",{value:!0})}));
